<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>working wih DOM</title>
  </head>
  <body>
    <h3>Todo List</h3>
    <ul>
      <li>
        <span>Go to the store</span>
        <button class="edit-todo">Edit</button>
      </li>
      <li>
        <span>Finish javascript course</span>
        <button class="edit-todo">Edit</button>
      </li>
      <li>
        <span>Take over the world</span>
        <button class="edit-todo">Edit</button>
      </li>
    </ul>

    <div>
      <button class="clear-todos">Clear all todos</button>
    </div>

    <a href="https://laracasts.com" class="link">laracasts</a>

    <form action="server.php">
      <div>
        <input
          type="text"
          id="firstName"
          name="firstName"
          placeholder="First Name"
          autocomplete="off"
        />
      </div>

      <div>
        <select name="cars" id="cars">
          <option value="Honda">Honda</option>
          <option value="Toyota">Toyota</option>
          <option value="Ford">Ford</option>
        </select>
      </div>

      <div>
        <input type="radio" id="html" name="languages" value="HTML" />
        <label for="html">HTML</label>
      </div>

      <div>
        <input type="radio" id="css" name="languages" value="CSS" />
        <label for="css">CSS</label>
      </div>

      <div>
        <input
          type="radio"
          id="javascript"
          name="languages"
          value="JavaScript"
        />
        <label for="javascript">JavaScript</label>
      </div>

      <div>
        <button>Submit Form</button>
      </div>
    </form>

    <script>
      const clearButton = document.querySelector(".clear-todos");
      const link = document.querySelector(".link");
      //addEventListener to multiple elements
      const editButtons = document.querySelectorAll(".edit-todo");
      const myInput = document.querySelector("#firstName");
      const mySelect = document.querySelector("#cars");
      const myRadioButtons = document.querySelectorAll(
        'input[name="languages"]'
      );
      const myForm = document.querySelector("form");

      //this is a named function
      function handleClick(event) {
        //this is a way to prevent the default behaviour of the event
        event.preventDefault();
        console.log("clear button clicked");
        document.querySelector("h3").textContent = "CHANGED";
        //remove the event listener
        clearButton.removeEventListener("click", handleClick);
      }

      function handleEdit() {
        console.log("Handle editing todo");
      }

      clearButton.addEventListener("click", handleClick);
      link.addEventListener("click", handleClick);
      myInput.addEventListener("keyup", function (event) {
        //console.log('Key was pressed');
        console.log(event.target.value); //to also get the current value
      });

      myInput.addEventListener("blur", function (event) {
        console.log("I was blurred");
        //console.log(event.target.value);
      });

      mySelect.addEventListener("change", function (event) {
        console.log(event.target.value);
        //console.log(event.target.value);
      });


      myForm.addEventListener("submit", function (event) {
        event.preventDefault();
        console.log("Processin the form");
        //the actual submit method 
        myForm.submit();
      });

      //using arrow function
      editButtons.forEach((editButton) => {
        editButton.addEventListener("click", handleEdit);
      });


      //using querySelectorAll target all the elements 
      myRadioButtons.forEach((radioButton) => {
        radioButton.addEventListener("change", function (event) {
          console.log(event.target.value);
        });
      });

      //this is an inline function
      clearButton.addEventListener("click", function () {
        console.log("clear button clicked");
      });

      //say you wnat to change the h3 content
      //document.querySelector('h3').textContent = 'CHANGED';
      //})

      //keyboard input
    </script>
  </body>
</html>
